<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd">

    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-1">
        <createTable tableName="PTG_REF_ETAT">
            <column name="ID_REF_ETAT" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="LABEL" type="NVARCHAR2(25)"/>
        </createTable>
        
        <addPrimaryKey columnNames="ID_REF_ETAT" constraintName="PK_PTG_REF_ETAT" tableName="PTG_REF_ETAT"/>
        
    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-2">
        <createSequence sequenceName="PTG_S_REF_PRIME"/>
        
        <createTable tableName="PTG_REF_PRIME">
            <column name="ID_REF_PRIME" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="NORUBR" type="NUMBER(8, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="LIBELLE" type="NVARCHAR2(50)"/>
            <column name="DESCRIPTION" type="NVARCHAR2(300)"/>
            <column name="TYPE_SAISIE" type="NUMBER(1, 0)"/>
            <column name="AIDE" type="NVARCHAR2(300)"/>
            <column name="MAIRIE_PRIME" type="VARCHAR2(6)"/>
            <column name="IS_CALCULEE" type="NUMBER(1, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="STATUT" type="VARCHAR2(2)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <addPrimaryKey columnNames="ID_REF_PRIME" constraintName="PK_PTG_REF_PRIME" tableName="PTG_REF_PRIME"/>
        <addDefaultValue columnName="ID_REF_PRIME" tableName="PTG_REF_PRIME" defaultValueSequenceNext="PTG_S_REF_PRIME" />
    
    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-3">
        
        <createTable tableName="PTG_REF_TYPE_POINTAGE">
            <column name="ID_REF_TYPE_POINTAGE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="LABEL" type="NVARCHAR2(25)"/>
        </createTable>
        
        <addPrimaryKey columnNames="ID_REF_TYPE_POINTAGE" constraintName="PK_PTG_REF_TYPE_POINTAGE" tableName="PTG_REF_TYPE_POINTAGE"/>
        
    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-4">
        <createSequence sequenceName="PTG_S_COMMENT"/>
        
        <createTable tableName="PTG_COMMENT">
            <column name="ID_COMMENT" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="TEXT" type="CLOB"/>
            <column name="VERSION" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <addPrimaryKey columnNames="ID_COMMENT" constraintName="PK_PTG_COMMENT" tableName="PTG_COMMENT"/>
        <addDefaultValue columnName="ID_COMMENT" tableName="PTG_COMMENT" defaultValueSequenceNext="PTG_S_COMMENT" />
    
    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-5">
        <createSequence sequenceName="PTG_S_VENTIL_DATE"/>
        
        <createTable tableName="PTG_VENTIL_DATE">
            <column name="ID_VENTIL_DATE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_VENTIL" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="IS_PAYE" type="NUMBER(1, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="TYPE_CHAINE_PAIE" type="VARCHAR2(3)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <addPrimaryKey columnNames="ID_VENTIL_DATE" constraintName="PK_PTG_VENTIL_DATE" tableName="PTG_VENTIL_DATE"/>
        <addDefaultValue columnName="ID_VENTIL_DATE" tableName="PTG_VENTIL_DATE" defaultValueSequenceNext="PTG_S_VENTIL_DATE" />
    
    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-6">
        <createSequence sequenceName="PTG_S_VENTIL_TASK"/>
        
        <createTable tableName="PTG_VENTIL_TASK">
            <column name="ID_VENTIL_TASK" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_AGENT" type="NUMBER(7, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_AGENT_CREATION" type="NUMBER(7, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_CREATION" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="TYPE_CHAINE_PAIE" type="VARCHAR2(3)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_TYPE_POINTAGE" type="NUMBER(38, 0)"/>
            <column name="ID_VENTIL_DATE_FROM" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_VENTIL_DATE_TO" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_VENTILATION" type="date"/>
            <column name="TASK_STATUS" type="VARCHAR2(255)"/>
            <column name="VERSION" type="NUMBER(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <addPrimaryKey columnNames="ID_VENTIL_TASK" constraintName="PK_PTG_VENTIL_TASK" tableName="PTG_VENTIL_TASK"/>
        <addDefaultValue columnName="ID_VENTIL_TASK" tableName="PTG_VENTIL_TASK" defaultValueSequenceNext="PTG_S_VENTIL_TASK" />
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_TASK_REF_TYPE_POINTAGE"
            baseColumnNames="ID_TYPE_POINTAGE" baseTableName="PTG_VENTIL_TASK" 
            referencedColumnNames="ID_REF_TYPE_POINTAGE" referencedTableName="PTG_REF_TYPE_POINTAGE"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_TASK_VENTIL_DATE_FROM"
            baseColumnNames="ID_VENTIL_DATE_FROM" baseTableName="PTG_VENTIL_TASK" 
            referencedColumnNames="ID_VENTIL_DATE" referencedTableName="PTG_VENTIL_DATE"/>

        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_TASK_VENTIL_DATE_TO"
            baseColumnNames="ID_VENTIL_DATE_TO" baseTableName="PTG_VENTIL_TASK" 
            referencedColumnNames="ID_VENTIL_DATE" referencedTableName="PTG_VENTIL_DATE"/>
    
    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-7">
        <createSequence sequenceName="PTG_S_VENTIL_ABSENCE"/>
        
        <createTable tableName="PTG_VENTIL_ABSENCE">
            <column name="ID_VENTIL_ABSENCE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_VENTIL_DATE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_AGENT" type="NUMBER(8, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_LUNDI" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="ETAT" type="NUMBER(38, 0)"/>
            <column name="MINUTES_CONCERTEE" type="NUMBER(5, 0)"/>
            <column name="MINUTES_NON_CONCERTEE" type="NUMBER(5, 0)"/>
            <column name="VERSION" type="NUMBER(38, 0)"/>
        </createTable>
        
        <addPrimaryKey columnNames="ID_VENTIL_ABSENCE" constraintName="PK_PTG_VENTIL_ABSENCE" tableName="PTG_VENTIL_ABSENCE"/>
        <addDefaultValue columnName="ID_VENTIL_ABSENCE" tableName="PTG_VENTIL_ABSENCE" defaultValueSequenceNext="PTG_S_VENTIL_ABSENCE" />
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_ABS_VENTIL_DATE"
            baseColumnNames="ID_VENTIL_DATE" baseTableName="PTG_VENTIL_ABSENCE" 
            referencedColumnNames="ID_VENTIL_DATE" referencedTableName="PTG_VENTIL_DATE"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_ABS_REF_ETAT"
            baseColumnNames="ETAT" baseTableName="PTG_VENTIL_ABSENCE" 
            referencedColumnNames="ID_REF_ETAT" referencedTableName="PTG_REF_ETAT"/>

    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-8">
        <createSequence sequenceName="PTG_S_VENTIL_HSUP"/>
        
        <createTable tableName="PTG_VENTIL_HSUP">
            <column name="ID_VENTIL_HSUP" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_VENTIL_DATE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_AGENT" type="NUMBER(8, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_LUNDI" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="M_ABS" type="NUMBER(5, 0)"/>
            <column name="M_HORS_CONTRAT" type="NUMBER(5, 0)"/>
            <column name="M_SUP" type="NUMBER(5, 0)"/>
            <column name="M_SUP_25" type="NUMBER(5, 0)"/>
            <column name="M_SUP_50" type="NUMBER(5, 0)"/>
            <column name="M_DJF" type="NUMBER(5, 0)"/>
            <column name="M_DJF_25" type="NUMBER(5, 0)"/>
            <column name="M_DJF_50" type="NUMBER(5, 0)"/>
            <column name="M_1_MAI" type="NUMBER(5, 0)"/>
            <column name="M_NUIT" type="NUMBER(5, 0)"/>
            <column name="M_NORMALES" type="NUMBER(5, 0)"/>
            <column name="M_COMPLEMENTAIRES" type="NUMBER(5, 0)"/>
            <column name="M_SIMPLES" type="NUMBER(5, 0)"/>
            <column name="M_COMPOSEES" type="NUMBER(5, 0)"/>
            <column name="M_RECUPEREES" type="NUMBER(5, 0)"/>
            <column name="M_SUP_25_R" type="NUMBER(5, 0)"/>
            <column name="M_SUP_50_R" type="NUMBER(5, 0)"/>
            <column name="M_DJF_R" type="NUMBER(5, 0)"/>
            <column name="M_DJF_25_R" type="NUMBER(5, 0)"/>
            <column name="M_DJF_50_R" type="NUMBER(5, 0)"/>
            <column name="M_1_MAI_R" type="NUMBER(5, 0)"/>
            <column name="M_NUIT_R" type="NUMBER(5, 0)"/>
            <column name="M_NORMALES_R" type="NUMBER(5, 0)"/>
            <column name="M_COMPLEMENTAIRES_R" type="NUMBER(5, 0)"/>
            <column name="M_SIMPLES_R" type="NUMBER(5, 0)"/>
            <column name="M_COMPOSEES_R" type="NUMBER(5, 0)"/>
            <column name="ETAT" type="NUMBER(38, 0)"/>
            <column name="VERSION" type="NUMBER(38, 0)"/>
        </createTable>
        
        <addPrimaryKey columnNames="ID_VENTIL_HSUP" constraintName="PK_PTG_VENTIL_HSUP" tableName="PTG_VENTIL_HSUP"/>
        <addDefaultValue columnName="ID_VENTIL_HSUP" tableName="PTG_VENTIL_HSUP" defaultValueSequenceNext="PTG_S_VENTIL_HSUP" />
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_HSUP_VENTIL_DATE"
            baseColumnNames="ID_VENTIL_DATE" baseTableName="PTG_VENTIL_HSUP" 
            referencedColumnNames="ID_VENTIL_DATE" referencedTableName="PTG_VENTIL_DATE"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_HSUP_REF_ETAT"
            baseColumnNames="ETAT" baseTableName="PTG_VENTIL_HSUP" 
            referencedColumnNames="ID_REF_ETAT" referencedTableName="PTG_REF_ETAT"/>

    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-9">
        <createSequence sequenceName="PTG_S_VENTIL_PRIME"/>
        
        <createTable tableName="PTG_VENTIL_PRIME">
            <column name="ID_VENTIL_PRIME" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_VENTIL_DATE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_AGENT" type="NUMBER(8, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_DEBUT_MOIS" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="ID_REF_PRIME" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="QUANTITE" type="NUMBER(7, 2)"/>
            <column name="ETAT" type="NUMBER(38, 0)"/>
            <column name="VERSION" type="NUMBER(38, 0)"/>
        </createTable>
        
        <addPrimaryKey columnNames="ID_VENTIL_PRIME" constraintName="PK_PTG_VENTIL_PRIME" tableName="PTG_VENTIL_PRIME"/>
        <addDefaultValue columnName="ID_VENTIL_PRIME" tableName="PTG_VENTIL_PRIME" defaultValueSequenceNext="PTG_S_VENTIL_PRIME" />
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_PRIME_VENTIL_DATE"
            baseColumnNames="ID_VENTIL_DATE" baseTableName="PTG_VENTIL_PRIME" 
            referencedColumnNames="ID_VENTIL_DATE" referencedTableName="PTG_VENTIL_DATE"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_PRIME_REF_PRIME"
            baseColumnNames="ID_REF_PRIME" baseTableName="PTG_VENTIL_PRIME" 
            referencedColumnNames="ID_REF_PRIME" referencedTableName="PTG_REF_PRIME"/>
            
        <addForeignKeyConstraint 
            constraintName="FK_PTG_VENTIL_PRIME_ABS_REF_ETAT"
            baseColumnNames="ETAT" baseTableName="PTG_VENTIL_PRIME" 
            referencedColumnNames="ID_REF_ETAT" referencedTableName="PTG_REF_ETAT"/>

    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-10">
        <createSequence sequenceName="PTG_S_POINTAGE_CALCULE"/>
        
        <createTable tableName="PTG_POINTAGE_CALCULE">
            <column name="ID_POINTAGE_CALCULE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_AGENT" type="NUMBER(7, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_LUNDI" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_DEBUT" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_FIN" type="date"/>
            <column name="QUANTITE" type="NUMBER(38, 0)"/>
            <column name="ID_REF_TYPE_POINTAGE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_REF_PRIME" type="NUMBER(38, 0)"/>
            <column name="ETAT" type="NUMBER(38, 0)"/>
            <column name="ID_VENTIL_DATE" type="NUMBER(38, 0)"/>
            <column name="VERSION" type="NUMBER(38)">
                <constraints nullable="false"/>
            </column>
            
        </createTable>
        
        <addPrimaryKey columnNames="ID_POINTAGE_CALCULE" constraintName="PK_PTG_POINTAGE_CALCULE" tableName="PTG_POINTAGE_CALCULE"/>
        <addDefaultValue columnName="ID_POINTAGE_CALCULE" tableName="PTG_POINTAGE_CALCULE" defaultValueSequenceNext="PTG_S_POINTAGE_CALCULE" />
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_CALCULE_REF_TYPE_POINTAGE"
            baseColumnNames="ID_REF_TYPE_POINTAGE" baseTableName="PTG_POINTAGE_CALCULE" 
            referencedColumnNames="ID_REF_TYPE_POINTAGE" referencedTableName="PTG_REF_TYPE_POINTAGE"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_CALCULE_REF_PRIME"
            baseColumnNames="ID_REF_PRIME" baseTableName="PTG_POINTAGE_CALCULE" 
            referencedColumnNames="ID_REF_PRIME" referencedTableName="PTG_REF_PRIME"/>
            
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_CALCULE_REF_ETAT"
            baseColumnNames="ETAT" baseTableName="PTG_POINTAGE_CALCULE" 
            referencedColumnNames="ID_REF_ETAT" referencedTableName="PTG_REF_ETAT"/>
            
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_CALCULE_VENTIL_DATE"
            baseColumnNames="ID_VENTIL_DATE" baseTableName="PTG_POINTAGE_CALCULE" 
            referencedColumnNames="ID_VENTIL_DATE" referencedTableName="PTG_VENTIL_DATE"/>

    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-11">
        <createSequence sequenceName="PTG_S_POINTAGE"/>
        
        <createTable tableName="PTG_POINTAGE">
            <column name="ID_POINTAGE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_AGENT" type="NUMBER(7, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_TYPE_POINTAGE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_LUNDI" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_DEBUT" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_FIN" type="date"/>
            <column name="QUANTITE" type="NUMBER(38, 0)"/>
            <column name="ID_POINTAGE_PARENT" type="NUMBER(38, 0)"/>
            <column name="ID_REF_PRIME" type="NUMBER(38, 0)"/>
            <column name="IS_HSUP_RECUPEREE" type="NUMBER(1, 0)"/>
            <column name="IS_ABS_CONCERTEE" type="NUMBER(1, 0)"/>
            <column name="ID_COMMENT_MOTIF" type="NUMBER(38, 0)"/>
            <column name="ID_COMMENT_COMMENTAIRE" type="NUMBER(38, 0)"/>
            <column name="VERSION" type="NUMBER(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <addPrimaryKey columnNames="ID_POINTAGE" constraintName="PK_PTG_POINTAGE" tableName="PTG_POINTAGE"/>
        <addDefaultValue columnName="ID_POINTAGE" tableName="PTG_POINTAGE" defaultValueSequenceNext="PTG_S_POINTAGE" />
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_REF_TYPE_POINTAGE"
            baseColumnNames="ID_TYPE_POINTAGE" baseTableName="PTG_POINTAGE" 
            referencedColumnNames="ID_REF_TYPE_POINTAGE" referencedTableName="PTG_REF_TYPE_POINTAGE"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_POINTAGE_PARENT"
            baseColumnNames="ID_POINTAGE_PARENT" baseTableName="PTG_POINTAGE" 
            referencedColumnNames="ID_POINTAGE" referencedTableName="PTG_POINTAGE"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_REF_PRIME"
            baseColumnNames="ID_REF_PRIME" baseTableName="PTG_POINTAGE" 
            referencedColumnNames="ID_REF_PRIME" referencedTableName="PTG_REF_PRIME"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_COMMENT_MOTIF"
            baseColumnNames="ID_COMMENT_MOTIF" baseTableName="PTG_POINTAGE" 
            referencedColumnNames="ID_COMMENT" referencedTableName="PTG_COMMENT"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_COMMENT_COMMENTAIRE"
            baseColumnNames="ID_COMMENT_COMMENTAIRE" baseTableName="PTG_POINTAGE" 
            referencedColumnNames="ID_COMMENT" referencedTableName="PTG_COMMENT"/>

    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-12">
        <createSequence sequenceName="PTG_S_ETAT_POINTAGE"/>
        
        <createTable tableName="PTG_ETAT_POINTAGE">
            <column name="ID_ETAT_POINTAGE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_POINTAGE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_ETAT" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="DATE_MAJ" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="ETAT" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_AGENT" type="NUMBER(8, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="VERSION" type="NUMBER(38)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <addPrimaryKey columnNames="ID_ETAT_POINTAGE" constraintName="PK_PTG_ETAT_POINTAGE" tableName="PTG_ETAT_POINTAGE"/>
        <addDefaultValue columnName="ID_ETAT_POINTAGE" tableName="PTG_ETAT_POINTAGE" defaultValueSequenceNext="PTG_S_ETAT_POINTAGE" />
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_ETAT_POINTAGE_POINTAGE"
            baseColumnNames="ID_POINTAGE" baseTableName="PTG_ETAT_POINTAGE" 
            referencedColumnNames="ID_POINTAGE" referencedTableName="PTG_POINTAGE"/>

        <addForeignKeyConstraint 
            constraintName="FK_PTG_ETAT_POINTAGE_REF_ETAT"
            baseColumnNames="ETAT" baseTableName="PTG_ETAT_POINTAGE" 
            referencedColumnNames="ID_REF_ETAT" referencedTableName="PTG_REF_ETAT"/>

    </changeSet>
    
    <changeSet author="rayni84" id="b2a5b1b5-e475-4b12-a4d8-6469c678aa49-13">
        <createTable tableName="PTG_POINTAGE_VENTIL_DATE">
            <column name="ID_POINTAGE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="ID_VENTIL_DATE" type="NUMBER(38, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        
        <addPrimaryKey columnNames="ID_POINTAGE,ID_VENTIL_DATE" constraintName="PK_PTG_POINTAGE_VENTIL_DATE" tableName="PTG_POINTAGE_VENTIL_DATE"/>
        
        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_VENTIL_DATE_POINTAGE"
            baseColumnNames="ID_POINTAGE" baseTableName="PTG_POINTAGE_VENTIL_DATE" 
            referencedColumnNames="ID_POINTAGE" referencedTableName="PTG_POINTAGE"/>

        <addForeignKeyConstraint 
            constraintName="FK_PTG_POINTAGE_VENTIL_DATE_VENTIL_DATE"
            baseColumnNames="ID_VENTIL_DATE" baseTableName="PTG_POINTAGE_VENTIL_DATE" 
            referencedColumnNames="ID_VENTIL_DATE" referencedTableName="PTG_VENTIL_DATE"/>

    </changeSet>
    
</databaseChangeLog>
